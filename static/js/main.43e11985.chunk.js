(this["webpackJsonpeasyinventory-app"]=this["webpackJsonpeasyinventory-app"]||[]).push([[0],{12:function(e,t,n){e.exports=n(25)},21:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(2),l=n.n(a),r=n(11),c=n.n(r),o=(n(21),n(6)),i=n(10);n(26),n(22),n(23);var s=function(){const[e,t]=Object(a.useState)({}),[n,r]=Object(a.useState)(null),[c,i]=Object(a.useState)(""),[s,u]=Object(a.useState)(null),[m,d]=Object(a.useState)(!0),y=["Display","Workstation","Peripherals"],[p,v]=Object(a.useState)(!1),[b,f]=Object(a.useState)(!1),g=Object(a.useRef)(null),E=Object.keys(e).sort((e,t)=>y.indexOf(e)-y.indexOf(t));function j(e){e.preventDefault(),r(null),u(null),v(!0),setTimeout(()=>{v(!1)},300)}return Object(a.useEffect)(()=>{const e=Object(o.a)(),n=Object(o.c)(e,"inventory");d(!0);const a=Object(o.b)(n,e=>{const n=e.val();t(n||{}),d(!1)});return()=>a()},[]),Object(a.useEffect)(()=>{n&&(console.log("Attempting to focus input:",g.current),g.current&&g.current.focus())},[n]),m?l.a.createElement("div",null,"Loading Inventory....."):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("h2",null,"Welcome to easyInventory App"),s&&l.a.createElement("div",{className:"alert alert-danger",role:"alert"},s),l.a.createElement("div",{className:"inventory-list"},E.map(t=>l.a.createElement("div",{key:t},l.a.createElement("h3",null,t),l.a.createElement("ul",null,e[t]&&Object.entries(e[t]).map(a=>{let[s,m]=a;return l.a.createElement("li",{key:s,style:{display:"flex",alignItems:"center"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"}},l.a.createElement("strong",null,s,": ",l.a.createElement("span",{className:"qty"},m.qty)),(null===n||void 0===n?void 0:n.category)===t&&(null===n||void 0===n?void 0:n.itemId)===s?l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{type:"number",value:c,onChange:e=>i(e.target.value),ref:g}),l.a.createElement("div",null,l.a.createElement("button",{onClick:()=>function(e,t){if(b)return;const n=String(c).trim();if(!/^\d+$/.test(n))return void u("Invalid quantity. Please enter a non-negative integer.");const a=parseInt(n,10);if(isNaN(a)||a<0)return void u("Invalid quantity. Please enter a non-negative integer.");console.log("Attempting to save quantity:",a);const l=Object(o.a)(),i=Object(o.c)(l,`inventory/${e}/${t}`);f(!0),Object(o.d)(i,{qty:a}).then(()=>{r(null),u(null),setTimeout(()=>{f(!1)},200)}).catch(e=>{console.error("Error updating quantity:",e),u("Error updating quantity. Please try again later."),f(!1)})}(t,s),className:"save-button",disabled:b,style:b?{opacity:.5,cursor:"default"}:{}},"Save")),l.a.createElement("div",null,l.a.createElement("button",{onClick:j,onTouchStart:j,className:"cancel-button"},"Cancel"))):l.a.createElement("button",{onClick:()=>function(t,n){p||b||(r({category:t,itemId:n}),e[t]&&e[t][n]&&void 0!==e[t][n].qty?i(e[t][n].qty):(i(0),console.warn(`Quantity not found for ${t} - ${n}`)),u(null))}(t,s),disabled:p,style:p?{opacity:.5,cursor:"default"}:{}},">Edit")))})))))))};n(24);const u={apiKey:"AIzaSyDt7OjeqsoclcoqKHoQjOUTz3uaD1Q7Ti4",authDomain:"easyinventory-22e9f.firebaseapp.com",databaseURL:"https://easyinventory-22e9f-default-rtdb.firebaseio.com",projectId:"easyinventory-22e9f",storageBucket:"easyinventory-22e9f.firebasestorage.app",messagingSenderId:"116855328042",appId:"1:116855328042:web:3c7982a74aa74ba8d16253",measurementId:"G-QKM2NXGXS6"};i.a.apps.length||i.a.initializeApp(u);var m=function(){const[e,t]=Object(a.useState)({});return Object(a.useEffect)(()=>{const e=Object(o.a)(),n=Object(o.c)(e,"inventory"),a=Object(o.b)(n,e=>{const n=e.val();t(n||{})});return()=>a()},[]),l.a.createElement("div",{className:"App"},l.a.createElement("h1",null," "),l.a.createElement(s,{inventory:e})," ")};var d=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then(t=>{let{getCLS:n,getFID:a,getFCP:l,getLCP:r,getTTFB:c}=t;n(e),a(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(m,null))),d()}},[[12,1,2]]]);
//# sourceMappingURL=main.43e11985.chunk.js.map